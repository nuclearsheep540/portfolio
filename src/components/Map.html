<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Display a map</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=yes" />
<script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.js"></script>
<link href="https://api.tiles.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
  #map { position: absolute; top: 0; bottom: 0; width: 100%; };
  div.mapboxgl-ctrl-bottom-right {
  visibility: hidden !important
};
</style>
</head>
<body>
<div id="map"></div>
<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoibnVjbGVhcnNoZWVwIiwiYSI6ImNrMWtreDE2cTBtMDQzY3A3ZjB5dnVyZXIifQ.x3nQYFUElfDWSnb6oEuWnA';
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/nuclearsheep/ck4r166pa0nzg1crs1t2koe2p', // stylesheet location
        center: [24, 4], // starting position [lng, lat]
        zoom: 0.3 // starting zoom
    });

    var cities = [
      {name: 'london', LngLat: [51.5074, -0.1278]},
      {name: 'paris', LngLat: [48.8566, 2.3522]},
      {name: 'tokyo', LngLat: [35.6762, 139.6503]},
      {name: 'newyork', LngLat: [40.7128, -74.0060]},
      {name: 'mexico', LngLat: [19.4326, -99.1332]},
      {name: 'budapest', LngLat: [47.4979, 19.0402]},
      {name: 'austria', LngLat: [47.2086, 14.7996]},
      {name: 'sydney', LngLat: [-33.8688, 151.2093]},
      {name: 'barcelona', LngLat: [41.3851, 2.1734]},
      {name: 'cannes', LngLat: [43.5528, 7.0174]},
      {name: 'milan', LngLat: [45.4642, 9.1900]},
      {name: 'brussels', LngLat: [50.8503, 4.3517]},
      {name: 'cologne', LngLat: [50.9375, 6.9603]},
      {name: 'dusseldorf', LngLat: [51.2277, 6.7735]},
      {name: 'munich', LngLat: [48.1351, 11.5820]},
    ]

    function count(){
    var i = 0
    var counter = setInterval(()=>{
      if (i >= cities.length) {
      clearInterval(counter)
    } else {
      // console.log('i = ',i)
      new mapboxgl.Marker()
        .setLngLat([cities[i].LngLat[1], cities[i].LngLat[0]])
        .addTo(map);
      return i++
    }
    },250)
  }
  setTimeout(()=>{
    count()
  },1200)

</script>

</body>
</html>